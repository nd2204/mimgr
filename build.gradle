/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.10.2/samples
 * This project uses @Incubating APIs which are subject to change.
 */

plugins {
  id 'java'
  id 'application'
  id 'com.github.michaelruocco.embedded-mysql-plugin' version '2.1.11'
}

def minJavaVersion = 21
def currentJavaVersion = JavaVersion.current().majorVersion.toInteger()

if (currentJavaVersion >= minJavaVersion) {
    println "Java version ${currentJavaVersion} is supported."
} else {
    throw new GradleException("Java version ${currentJavaVersion} is not supported. Please use Java ${minJavaVersion} or higher.")
}

java {
  toolchain {
    languageVersion = JavaLanguageVersion.of(currentJavaVersion)
  }
}

application {
  mainClass = "dev.mimgr.Entry"
}

repositories {
  mavenCentral()
}

dependencies {
  implementation 'mysql:mysql-connector-java:8.0.33'
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
    options.release = 21
}
